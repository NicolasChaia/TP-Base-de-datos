{% load static %}
<!DOCTYPE HTML>
<!--
	Eventually by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, initial-scale=1.2">

	<title>Movie Style</title>
	<meta charset="utf-8" />
	<link rel="icon" href="{% static 'images/logo.png' %}" type="image/png" />
	<link rel="stylesheet" href="{% static 'css/main.css' %}" />
</head>

<body class="is-preload">

	<!-- Header -->
	<header id="header">
		<img src="{% static 'images/film-slate.png' %}" alt="logo" class="header-logo">
		<h1>Movie Style</h1>
		<p>En esta p√°gina podr√°s encontrar toda la informaci√≥n de pel√≠culas que necesites.</p>
	</header>

	<!-- Formulario para a√±adir pel√≠cula -->
	<h2>A√±adir Nueva Pel√≠cula ‚ûï</h2>
	<form method="POST">
		{% csrf_token %}
		{{ movie_form.as_p }}
		<button type="submit" name="add_movie">A√±adir Pel√≠cula</button>
	</form>

	<!-- Buscar Pel√≠culas -->
	<h2>Buscar Pel√≠culas üîç</h2>
	<form method="POST">
		{% csrf_token %}
		{{ search_form.as_p }}
		<button type="submit" name="search_movie">Buscar</button>
	</form>
	{% if movies %}
	<h2>Resultados</h2>
	<ul>
		<h4>T√≠tulo	-	Director	-	G√©nero</h4>
		{% for movie in movies %}
		<li>{{ movie.title }} - {{ movie.director }} - {{ movie.genre }}</li>
		{% endfor %}
	</ul>
	{% elif movies is not None %}
	<p>No se encontraron pel√≠culas.</p>
	{% endif %}
	<!-- Eliminar Pel√≠culas -->
	<h2>Eliminar Pel√≠culas üóëÔ∏è</h2>
	<form method="POST">
		{% csrf_token %}
		<label for="delete_by">Eliminar por:</label>
		<select name="delete_by" id="delete_by">
			<option value="title">T√≠tulo</option>
			<option value="director">Director</option>
			<option value="genre">G√©nero</option>
		</select>
		<input type="text" name="delete_condition" placeholder="Ingrese el valor" required>
		<button type="submit" name="delete_movies_by">Eliminar</button>
	</form>


	<h2>Actualizar Pel√≠cula ‚úèÔ∏è</h2>
	<form method="POST">
		{% csrf_token %}
		<label for="update_by">Actualizar por:</label>
		<select name="update_by" id="update_by">
			<option value="director">Director</option>
			<option value="genre">G√©nero</option>
		</select>
		<input type="text" name="update_condition" placeholder="Ingrese el valor a buscar" required>
		<input type="text" name="new_value" placeholder="Nuevo valor" required>
		<button type="submit" name="update_movie_by">Actualizar</button>
	</form>




	<!-- Tabla de pel√≠culas -->
	<div class="container">
		<table class="table" id="movieTable">
			<thead>
				<tr>
					<th>Film Name</th>
					<th>Director</th>
					<th>Genre</th>
				</tr>
			</thead>
			<tbody id="movieTableBody">
				<h2>Lista de Pel√≠culas</h2>
				{% for movie in movie_list %}
				<tr>
					<td>{{ movie.title }}</td>
					<td>{{ movie.director }}</td>
					<td>{{ movie.genre }}</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>





	<!-- Reviews de pel√≠culas -->

	<h2>Reviews de Pel√≠culas</h2>

	<!-- Buscar reviews -->


	<!-- Agregar review -->
	<div>
		<h3>A√±adir Review</h3>
		<form id="add-review-form" method="post" action="#">
			{% csrf_token %}
			<input type="text" name="film-name" id="film-name" placeholder="Nombre de la pel√≠cula" required />
			<textarea name="review" id="review" placeholder="Escribe tu review aqu√≠..." rows="5" required></textarea>
			<input type="submit" value="A√±adir Review" />
		</form>

	</div>

	<!-- Buscar Pel√≠cula -->
	<div>
		<h3>Buscar Rese√±as</h3>
		<form id="searchReviewForm">
			<input type="text" id="reviewInput" placeholder="Buscar por nombre de pel√≠cula..." />
			<input type="submit" value="Buscar" />
		</form>

		<ul id="searchReviewResults"></ul>
	</div>


	<!-- Tabla para mostrar reviews -->
	<table class="table" id="reviewTable">
		<thead>
			<tr>
				<th>Pel√≠cula</th>
				<th>Review</th>
			</tr>
		</thead>
		<tbody id="reviewTableBody">
			<!-- Aqu√≠ se a√±adir√°n las filas din√°micamente -->
		</tbody>
	</table>


	<!-- Scripts -->

	<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-analytics.js"></script>
	<script src="{% static 'js/main.js' %}"></script>


</body>

</html>